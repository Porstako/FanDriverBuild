<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/css.css">
    <link rel="stylesheet" href="css/slider.css">
    <link rel="stylesheet" href="css/switch.css">
    <meta charset="utf-8">
    

    
  </head>
  <body>
    <div class="container" id="mainDisplay" style="display: block;">
      <div class="box" style="float:right; padding: 10px 10px 10px 10px; font-size: 22px; margin-top: 380px; border-radius: 30px 0px 0px 0px; width:240px">
        <div style="margin-bottom: 10px;"><div class="diode diodeGreen" id="sweepSpeedGreenDiode"></div><div class="diode diodeRed" id="sweepSpeedRedDiode" style="margin-right: 10px;"></div><span class="label"> Obroty:</span><span class="value" id="sweepSpeed" style="position: static;"> 400</span><span class="value">/min</span></div>
        <div style="margin-bottom: 10px;"><div class="diode diodeGreen" id="windSpeedGreenDiode"></div><div class="diode diodeRed" id="windSpeedRedDiode" style="margin-right: 10px;"></div><span class="label"> Wiatr:</span><span class="value" id="windSpeed" style="position: static;"> 11.1</span><span class="value">m/s</span></div>
        <div style="margin-bottom: 10px;"><div class="diode diodeGreen" id="lineVoltageGreenDiode"></div><div class="diode diodeRed" id="lineVoltageRedDiode" style="margin-right: 10px;"></div><span class="label"> Sieć:</span><span class="value" id="lineVoltage" style="position: static;"> 230</span><span class="value">V</span></div>
        
        <div style="display:flex; justify-content: space-around;">
          <div class="diode diodeGreen" id="PWMAutoDiode"></div> 
          <div class="diode diodeRed" id="PWMFullDiode"></div>
          <div class="diode diodeRed" id="PWMStopDiode"></div>  
          <div class="diode diodeRed" id="overloadDiode"></div> 
        </div>

        <div style="display:flex; justify-content: space-around;">
          <div class="diodeLabel" style="margin-left: -2px;"><span>&#9398;</span></div>
          <div class="diodeLabel" style="margin-left: -2px;"><span>&#8679;</span></div>
          <div class="diodeLabel" style="margin-left: 1px;"><span>&#8681;</span></div>
          <div class="diodeLabel" style="margin-right: -4px;"><span>&#9888;</span></div>
        </div>
      </div>

      <div id="menuButton" class="menuButton" style="float: right; border-radius: 0% 0% 0% 100%; margin-right: -260px;"><div class="menuButtonIcon"><span style="margin-left: 23px;">&#9776;</span></div></div>    
      
      <div class="box" id="mainValuesDisplay" >
        <div class="boxContent">
          <div class="valueObject" style="margin-top: 20px;">
            <div><span class="label">NAPIĘCIE</span></div>
            <div class="ring"></div>
            <div class="value sideValue" style="margin-top: -125px; margin-left: 20px; font-size: 42px; width:130px"><span id="Volt">0</span><br><span style="font-size: 28px;"> V</span></div>
          </div>

          <div class="valueObject">
            <span class="label">MOC</span>
            <div class="ringMain"></div>
            <div class="value" style="font-size: 58px; margin-top: -180px; margin-left: 55px; text-align: center; width: 220px;"><span id="Watt">0</span><span style="font-size: 36px;"><br> W</span></div>
          </div>

          <div class="valueObject" style="margin-top: 20px;">
            <span class="label">PRĄD</span>
            <div class="ring"></div>
            <div class="value sideValue" style="margin-top: -125px; margin-left: 20px; font-size: 42px; width:130px"><span id="Amper">30.0</span><br><span style="font-size: 28px;"> A</span></div>
          </div>
        </div>
      </div>
      <div class="box" id="PWMStatus" style="max-width: 140px; margin-top: 65px; padding: 10px 15px 15px 50px; margin-left: -40px">
        <span class="label" style="font-weight: bold;">PWM</span>
        
        <div class="boxContent">
          <div class="valueObject"><div class="gauge"><div class="gaugeNotFill" id="PWM2GaugeNotFill"></div></div><div class="value" style="margin-top: -40px; margin-left: 40px;"><span id="PWM2Percentage">0</span><span>%</span></div></div>
        </div>
      </div>
      <div class="box" id="kWhStats" style="float: right; width:180px; height: 134px; border-radius:30px 30px 30px 30px; margin-top: -154px; margin-right: 385px;">  
        <span class="label" style="font-weight: bold;font-size: 32px;">Statystyki</span>
        <div class="kWhStatsRow">24h: <span id="kWhValue_24H">0.00</span> kWh</div>
        <div class="kWhStatsRow">30 dni: <span id="kWhValue_30D">0.00</span> kWh</div>
        <div class="kWhStatsRow">Ogółem: <span id="kWhValue_OVERALL">0.00</span> kWh</div>
      </div>
      <div class="driveButton" id="PWMFull" style="margin: -110px 0 0 430px;"><span>PWM<br>100%</span></div>
      <div class="driveButton" id="PWMStop" style="margin: -110px 0 0 530px;"><span>PWM<br>0%</span></div>
      <div class="stopButton" id="stop" style="margin: -110px 0 0 630px;"><span>STOP</span></div>
    </div>




    <div class="container" id="menuDisplay" style="display: none;">
      <div class="menuDisplayContainer" id="privacyPolicyContainer"> 
        <div class="menuDisplayDetails">
          <div class="closeMenuDisplayDetails" id="closePrivacyPolicyButton">&#10006;</div>
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 30px;">Ustawienia prywatności</div>
          <div class="menuRow">
            <span class="menuItem">Zezwalam na wysyłanie i przetwarzanie anonimowych danych o błędach systemu</span>
            <label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <div class="menuRow">
            <span class="menuItem">Zezwalam na wysyłanie i przetwarzanie anonimowych danych o wydajności i szczegółach działania systemu</span><label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <div class="menuRow">
            <span class="menuItem">Zezwalam na wysyłanie oraz przetwarzanie danych geograficznych i meteorologicznych</span><label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <div class="menuRow" style="margin-bottom: 0px;">
            <span class="menuItem">Zezwalam na wysyłanie danych dot. wygenerowanego prądu, obiążenia PWM, napięcia sieci itp.</span><label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <br>
          <span class="adnotation">Powyższe opcje są opcjonalne. I nie wyłączają wysyłki podstawowych danych. Szczegóły znajdziesz pod adresem https://aerosync.pl/polityka-prywatnosci</span>
        </div>
      </div>
      <div class="menuDisplayContainer" id="helpContainer"> 
        <div class="menuDisplayDetails">
          <div class="closeMenuDisplayDetails" id="closeHelpButton">&#10006;</div>
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 30px;">Pomoc</div>
          <span>Instrukcję urządzenia oraz odpowiedzi na najpopularniejsze pytania znajdziesz skanując poniższy kod QR, bądź odwiedzając adres:<br></span><p style="text-align: center;">https://aerosync.pl/PGL1/instrukcja.pdf</p> 
          <div id="helpQR"><img src="resources/helpQRCode.svg" width="130px" height="130px"></div>
        </div>
      </div>
      <div class="menuDisplayContainer" id="saveInfoContainer"> 
        <div class="menuDisplayDetails">
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 42px; margin-top: 30px;">Zapisano ustawienia</div>
          <p style="text-align: center;">Ustawienia zostały zapisane pomyślnie<br>
          Okno zamknie się automatycznie w przeciągu 5 sekund</span>
          <div style="display:flex; justify-content: center;"><div class="settingsButton" id="closeSaveInfoButton" style="text-align: center; margin-top: 60px;"><span>OK</span></div></div>
        </div>
      </div>
      <div id="menuButton2" class="menuButton" style="float: left; border-radius: 0% 0% 100% 0%;"><div class="menuButtonIcon"><span style="margin-left: 14px;">&#11148;</span></div></div>
      
      <div style="display:block; justify-content: space-around;">
        <div class="box PWMSliderBox" style="display:block; margin-top: 10px;">
          <div class="label" style="text-align: center; font-size: 28px;font-weight: bold;">PWM1</div> 
          <div class="slider-container" id="PWM1Slider">
            <div class="slider-track"></div>
            <input type="range" id="PWM1MinInput" name="PWM1" min="0" max="600" step="1" value="200" autocomplete="off" />
            <input type="range" id="PWM1MaxInput" name="PWM1" min="0" max="600" step="1" value="300" autocomplete="off" />
          </div>
          
          <div style="display: flex; justify-content: space-between;">
            
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
            <div style="display: flex;"> 
              <div class="PWMValueButton PWMMinus" id="PWM1MinMinus" style="margin-left: 30px;text-align: center;"><span>-</span></div>
              <div class="PWMValueButton PWMPlus" id="PWM1MinPlus" style="margin-left: 45px;text-align: center;"><span>+</span></div>
            </div>
            <div style="font-size: 28px;font-weight: bold;"><output name="PWM1" id="PWM1Min"></output>V - <output name="PWM1" id="PWM1Max"></output>V</div>
            <div style="display: flex;">
              <div class="PWMValueButton PWMMinus" id="PWM1MaxMinus" style="text-align: center;"><span>-</span></div>
              <div class="PWMValueButton PWMPlus" id="PWM1MaxPlus" style="margin-left: 45px; margin-right: 30px;text-align: center;"><span>+</span></div>
            </div>
          </div>
        </div>
        
        <div class="box PWMSliderBox" style="display:block; margin-top: 60px;">
          <div class="label" style="text-align: center; font-size: 28px;font-weight: bold;">PWM2</div>
          <div class="slider-container" id="PWM2Slider">
            <div class="slider-track"></div>
            <input type="range" id="PWM2MinInput" name="PWM2" min="0" max="600" step="1" value="300" autocomplete="off" />
            <input type="range" id="PWM2MaxInput" name="PWM2" min="0" max="600" step="1" value="550" autocomplete="off" />
          </div>
          
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
            <div style="display: flex;"> 
              <div class="PWMValueButton PWMMinus" id="PWM2MinMinus" style="margin-left: 30px; text-align: center;"><span>-</span></div>
              <div class="PWMValueButton PWMPlus" id="PWM2MinPlus" style="margin-left: 45px;text-align: center;"><span>+</span></div>
            </div>
            <div style="font-size: 28px; font-weight: bold;"><output name="PWM2" id="PWM2Min"></output>V - <output name="PWM2" id="PWM2Max"></output>V</div>
            <div style="display: flex;">
              <div class="PWMValueButton PWMMinus" id="PWM2MaxMinus" style="text-align: center;"><span>-</span></div>
              <div class="PWMValueButton PWMPlus" id="PWM2MaxPlus" style="margin-left: 45px; margin-right: 30px; text-align:center;"><span>+</span></div>
            </div>  
          </div>
        </div>
      </div>
      <div class="settingsButton" id="PWMSubmit" style="margin-top: 400px; margin-left: 800px;text-align: center;"><span>Zapisz</span></div>
      <div class="settingsButton" id="PWMCancel" style="margin-top: 400px; margin-left: 600px;text-align: center;"><span>Anuluj</span></div>

      <div class="optionButton" id="helpButton" style="margin-top: 400px; margin-left: 45px;text-align: center;"><span>?</span></div>
      <div class="optionButton" id="updateSystemButton" style="margin-top: 400px; margin-left: 100px;text-align: center;"><span>&#8634;</span></div>
      <div class="optionButton" id="privacyPolicyButton" style="margin-top: 400px; margin-left: 155px;text-align: center;"><span>&#9413;</span></div>
      
      
      <div class="box" style="float:left; position:absolute; width:200px; border-radius:0px 30px 30px 0px; margin-top: 140px;">  
        <div class="label" style="text-align: center;margin-bottom: 10px ;">Ustawienia instalacji</div>
        <div style="display:flex; justify-content: space-between;margin-bottom: 8px;">
          <span class="menuItem">Off-grid</span>
          <label class="switch">
            <input type="checkbox" id="offGridCheckBox">
            <span class="switchRound"></span>
          </label>
        </div>
        
        <div style="display:flex; justify-content: space-between;margin-bottom: 8px;">
          <span class="menuItem">Zmienna obrotów</span><input type="number" class="menuNumericInput" id="sweepSpeedIndex" step="0.001" value="0.631" placeholder="0.123">
          </label>
        </div>
        <div style="display:flex; justify-content: space-between;margin-bottom: 8px;">
          <span class="menuItem">Średnica</span><input type="number" class="menuNumericInput" id="sweptDiameter" step="0.1" value="630" placeholder="1234">
          </label>
        </div>
        <div style="display:flex; justify-content: space-between;">
          <span class="menuItem">Efektywność</span>
          <input type="number" class="menuNumericInput" id="powerCoefficient" step="0.01" value="0.40" placeholder="0.40">
          </label>
        </div>
      </div>
      
      
      

      <div class="box" style="float:left; position:absolute; margin: 483px 0px 0px 0px; border-radius: 0px; width:1004px">
        Model produktu:<span id="productModel"></span><br>
        Nr Seryjny: <span id="serialNumber">Nie udało się odczytać numeru seryjnego</span><br>
        Wersja systemu: <span id="programVersion"></span><br>
      </div>
    </div>



    <script src="js/socket.io.min.js"></script>
    <script src="js/slider.js"></script>
    <script src="js/dataReciveHandler.js"></script>
    <script src="js/dataEmit.js"></script>
    <script src="js/js.js"></script>
  </body>
</html>