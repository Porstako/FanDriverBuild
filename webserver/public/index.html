<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/css.css">
    <link rel="stylesheet" href="css/slider.css">
    <link rel="stylesheet" href="css/switch.css">
    <meta charset="utf-8">
  </head>
  <body>
    <div class="container" id="statsContainer" style="margin: auto; display:none;">
      <div id="menuButton3" class="menuButton" style="float: left; border-radius: 0% 0% 100% 0%;">
        <div class="menuButtonIcon"><span style="margin-left: 14px;">&#11148;</span>
        </div>
      </div>
      <div style="display: block; margin-top: -30px;"><div id="graphContainer" class="box" style="background-color: #101F1F; max-width: 800px; margin:auto;"></div>
        Pracujemy nad wdrożeniem statystyk. Dane są zapisywane w urządzeniu, ale ich wyświetlenie jest aktualnie niemożliwe.<br>
      </div>
    </div>

    <div class="container" id="mainDisplay" style="display: block;">
      <div id="menuButton" class="menuButton" style="float: right; border-radius: 0% 0% 0% 100%; margin-right: 0px;">
        <div class="menuButtonIcon"><span style="margin-left: 23px;">&#9776;</span>
        </div>
      </div>    
      
      <div class="box" id="mainValuesDisplay" >
        <div class="boxContent">
          <div class="valueObject" style="margin-top: 20px;">
            <div><span class="label">NAPIĘCIE</span></div>
            <div class="ring"></div>
            <div class="value sideValue" style="margin-top: -125px; margin-left: 20px; font-size: 42px; width:130px">
              <span id="Volt">0</span><br><span style="font-size: 28px;"> V</span>
            </div>
          </div>

          <div class="valueObject">
            <span class="label">MOC</span>
            <div class="ringMain"></div>
            <div class="value" style="font-size: 58px; margin-top: -180px; margin-left: 55px; text-align: center; width: 220px;">
              <span id="Watt">0</span><span style="font-size: 36px;"><br> W</span>
            </div>
          </div>

          <div class="valueObject" style="margin-top: 20px;">
            <span class="label">PRĄD</span>
            <div class="ring"></div>
            <div class="value sideValue" style="margin-top: -125px; margin-left: 20px; font-size: 42px; width:130px">
              <span id="Amper">0.0</span><br><span style="font-size: 28px;"> A</span>
            </div>
          </div>
        </div>
      </div>

      <div class="box" id="PWMStatus" style="max-width: 100px; margin-top: -120px; padding: 10px 15px 15px 50px; margin-left: -40px">
        <span class="label" style="font-weight: bold; font-size: 28px;">Zwoje</span>
        
        <div class="boxContent sideBar" style="display: block;">
          <div class="valueObject">
            <div class="gauge">
              <div class="gaugeNotFill" id="turbineTemperatureGaugeNotFill"></div>
            </div>
            <div class="value sideBarValue">
              <span id="turbineTemperature">0</span><span>&#176;C</span>
            </div>
          </div>
        </div>      
      </div>

      <div class="box" id="PWMStatus" style="max-width: 100px; margin-top:10px ;padding: 10px 15px 15px 50px; margin-left: -40px">
        <span class="label" style="font-weight: bold; font-size: 28px;">Grzałka</span>
        
        <div class="boxContent sideBar" style="display: block;">
          <div class="valueObject">
            <div class="gauge">
              <div class="gaugeNotFill" id="PWM2GaugeNotFill"></div>
            </div>
            <div class="value sideBarValue">
              <span id="PWM2Percentage">0</span><span>%</span>
            </div>
          </div>
          <div class="valueObject">
            <div class="gauge">
              <div class="gaugeNotFill" id="PWMTemperatureGaugeNotFill"></div>
            </div>
            <div class="value sideBarValue">
              <span id="PWMTemperature">0</span><span>&#176;C</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="box" id="kWhStats" style="float: right; width:180px; height: 134px; border-radius:30px 30px 30px 30px; margin-top: -154px; margin-right: 675px;">  
        <span class="label" style="font-weight: bold;font-size: 32px;">Statystyki</span>
        <div class="kWhStatsRow">24h: <span id="kWhValue_24H">0.00</span> kWh</div>
        <div class="kWhStatsRow">30 dni: <span id="kWhValue_30D">0.00</span> kWh</div>
        <div class="kWhStatsRow">Ogółem: <span id="kWhValue_OVERALL">0.00</span> kWh</div>
      </div>
      <div class="stopButton" id="stop" style="margin: -140px 0 0 450px;"><span>STOP</span></div>

      <div class="box" id="windSpeedBox" style="float:right; padding: 10px 10px 10px 10px; font-size: 22px; margin-top: -220px; border-radius: 30px 0px 0px 30px; width:140px; height: 100px; display: flex; justify-content: center;align-items: center;" >
        <div style="margin-bottom: 10px; text-align: center;">
          <br>
          <span class="value" id="windSpeed" style="position: static;font-size: 36px;">0.0</span>
          <br>
          <span class="value" style="position: static;font-size: 18px;">m/s</span>
        </div>
      </div>

      <div class="box" style="float:right; padding: 10px 10px 10px 10px; font-size: 22px; margin-top: -90px; border-radius: 30px 0px 0px 0px; width:140px">
        <div style="margin-bottom: 10px;">
          <div class="diode diodeRed" id="lineVoltageRedDiode" style="margin-right: 10px;"></div>
          <span class="label"> Sieć:</span>
          <span class="value" id="lineVoltage" style="position: static;"> 0</span>
          <span class="value">V</span>
        </div>
        
        <div style="display:flex; justify-content: space-around;">
          <div class="diode diodeGreen" id="PWMAutoDiode"></div> 
          <div class="diode diodeRed" id="PWMFullDiode"></div>
          <div class="diode diodeRed" id="PWMStopDiode"></div>  
          <div class="diode diodeRed" id="overloadDiode"></div> 
        </div>

        <div style="display:flex; justify-content: space-around;">
          <div class="diodeLabel" style="margin-left: -2px;"><span>&#9398;</span></div>
          <div class="diodeLabel" style="margin-left: -2px;"><span>&#8679;</span></div>
          <div class="diodeLabel" style="margin-left: 1px;"><span>&#8681;</span></div>
          <div class="diodeLabel" style="margin-right: -4px;"><span>&#9888;</span></div>
        </div>
      </div>
      <div class="box" id="sweepSpeedBox" style="float:right; padding: 10px 10px 10px 10px; font-size: 22px; margin-top: -160px; margin-right: 15px; border-radius: 30px 30px 0px 0px; width:150px; height: 160px;">
        <img id="sweepSpeedImage" src="resources/turbine.png" style="width: 100px; height: 100px;margin: 0px 0px 0px 25px;">
        <div style="margin-bottom: 10px; text-align: center;">
          <span class="value" id="sweepSpeed" style="position: static;">0</span>
          <br>
          <span class="value" style="position: static; font-size: 18px;"> obr./min</span>
        </div>
      </div>
    </div>

    <div class="container" id="menuDisplay" style="display: none;">
      <div class="menuDisplayContainer" id="privacyPolicyContainer"> 
        <div class="menuDisplayDetails">
          <div class="closeMenuDisplayDetails" id="closePrivacyPolicyButton">&#10006;</div>
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 30px;">Ustawienia prywatności</div>
          <div class="menuRow">
            <span class="menuItem">Zezwalam na wysyłanie i przetwarzanie anonimowych danych o błędach systemu</span>
            <label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <div class="menuRow">
            <span class="menuItem">Zezwalam na wysyłanie i przetwarzanie anonimowych danych o wydajności i szczegółach działania systemu</span><label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <div class="menuRow">
            <span class="menuItem">Zezwalam na wysyłanie oraz przetwarzanie danych geograficznych i meteorologicznych</span><label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <div class="menuRow" style="margin-bottom: 0px;">
            <span class="menuItem">Zezwalam na wysyłanie danych dot. wygenerowanego prądu, obiążenia PWM, napięcia sieci itp.</span><label class="switch">
              <input type="checkbox">
              <span class="switchRound"></span>
            </label>
          </div>
          <br>
          <span class="adnotation">Powyższe opcje są opcjonalne. I nie wyłączają wysyłki podstawowych danych. Szczegóły znajdziesz pod adresem https://aerosync.pl/polityka-prywatnosci</span>
        </div>
      </div>
      <div class="menuDisplayContainer" id="helpContainer"> 
        <div class="menuDisplayDetails">
          <div class="closeMenuDisplayDetails" id="closeHelpButton">&#10006;</div>
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 30px;">Pomoc</div>
          <p style="text-align: center;">Instrukcję urządzenia oraz odpowiedzi na najpopularniejsze pytania znajdziesz skanując poniższy kod QR, bądź odwiedzając adres:<br></p><p style="text-align: center;">https://aerosync.pl/instrukcje/instrukcja10kw.pdf</p> 
          <div id="helpQR"><img src="resources/helpQRCode.svg" width="130px" height="130px"></div>
        </div>
      </div>
      <div class="menuDisplayContainer" id="updateConfirmationContainer"> 
        <div class="menuDisplayDetails">
          <div class="closeMenuDisplayDetails" id="closeUpdateConfirmationButton">&#10006;</div>
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 42px; margin-top: 30px;">Aktualizacja</div>
          <p style="text-align: center;">Aktualizacja oprogramowania potrwa około 10 minut. Upewnij się, że sterownik podłączony jest do internetu<br>
          Czy na pewno chcesz zaktualizować?</p>
          <div style="display:flex; justify-content: center;"><div class="settingsButton" id="updateConfirmationButton" style="text-align: center; margin-top: 60px;"><span>Tak</span></div></div>
        </div>
      </div>
      <div class="menuDisplayContainer" id="saveInfoContainer"> 
        <div class="menuDisplayDetails">
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 38px; margin-top: 30px;">Zapisano ustawienia</div>
          <p style="text-align: center;">Ustawienia zostały zapisane pomyślnie<br>
            Okno zamknie się automatycznie w przeciągu 5 sekund</p>
            <div style="display:flex; justify-content: center;"><div class="settingsButton" id="closeSaveInfoButton" style="text-align: center; margin-top: 60px;"><span>OK</span></div></div>
        </div>
      </div>
      <div class="menuDisplayContainer" id="internetConnectionContainer"> 
        <div class="menuDisplayDetails">
          <div class="closeMenuDisplayDetails" id="closeInternetConnectionButton">&#10006;</div>
          <div class="label" style="text-align: center;margin-bottom: 10px; font-size: 30px; margin-top: 20px;">Połączenie z internetem</div>
          <form action="/connect" method="post" class="formInContainer" id="internetConnectionForm">
            <div class="inputInternetConnectionRow">
              <label for="ssid">SSID:</label>
              <input type="text" id="ssid" name="ssid" required>
            </div>
            <div class="inputInternetConnectionRow" style="margin-top: 10px;">
              <label for="password">Hasło:</label>
              <input type="password" id="password" name="password" required>
            </div>
            <div style="display:flex; justify-content: center;">
              <div class="settingsButton" id="internetConnectionSubmitButton" style="text-align: center; margin-top: 30px;"><span>Połącz</span>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div id="menuButton2" class="menuButton" style="float: left; border-radius: 0% 0% 100% 0%;"><div class="menuButtonIcon"><span style="margin-left: 14px;">&#11148;</span></div></div>
      
      <div style="display:block; justify-content: space-around;">
        <div class="box PWMSliderBox" id="temperatureSliderBox" style="display:block; margin-top: 10px;">
          <div class="label" style="text-align: center; font-size: 28px;font-weight: bold;">Temperatura</div> 
          <div class="slider-container-single" id="temperatureSlider">
            <input type="range" id="temperatureInput" name="temperature" min="0" max="90" step="1" value="80" autocomplete="off" />
          </div>
          
          <div style="display: flex; justify-content: space-between;"></div>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
            <div style="display: flex;"> 
              <div class="PWMValueButton PWMMinus" id="temperatureMinus" style="margin-left: 30px;text-align: center;">
                <span>-</span>
              </div>
            </div>
            <div style="font-size: 28px;font-weight: bold;">
              <output name="temperature" id="temperatureOutput"></output>&#176;C
            </div>
            <div style="display: flex;">
              <div class="PWMValueButton PWMPlus" id="temperaturePlus" style="margin-left: 45px; margin-right: 30px; text-align:center;">
                <span>+</span>
              </div>
            </div>
          </div>
        </div>

        <div class="box PWMSliderBox" id="PWM1SliderBox" style="display:block; margin-top: 10px;">
          <div class="label" style="text-align: center; font-size: 28px;font-weight: bold;">PWM1</div> 
          <div class="slider-container" id="PWM1Slider">
            <div class="slider-track"></div>
            <input type="range" id="PWM1MinInput" name="PWM1" min="0" max="600" step="1" value="200" autocomplete="off" />
            <input type="range" id="PWM1MaxInput" name="PWM1" min="0" max="600" step="1" value="300" autocomplete="off" />
          </div>
          
          <div style="display: flex; justify-content: space-between;"></div>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
            <div style="display: flex;"> 
              <div class="PWMValueButton PWMMinus" id="PWM1MinMinus" style="margin-left: 30px;text-align: center;">
                <span>-</span>
              </div>
              <div class="PWMValueButton PWMPlus" id="PWM1MinPlus" style="margin-left: 45px;text-align: center;">
                <span>+</span>
              </div>
            </div>
            <div style="font-size: 28px;font-weight: bold;">
              <output name="PWM1" id="PWM1Min"></output>V - <output name="PWM1" id="PWM1Max"></output>V
            </div>
            <div style="display: flex;">
              <div class="PWMValueButton PWMMinus" id="PWM1MaxMinus" style="text-align: center;">
                <span>-</span>
              </div>
              <div class="PWMValueButton PWMPlus" id="PWM1MaxPlus" style="margin-left: 45px; margin-right: 30px;text-align: center;">
                <span>+</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="box PWMSliderBox" id="PWM1SliderBox" style="display:block; margin-top: 60px;">
          <div class="label" style="text-align: center; font-size: 28px;font-weight: bold;">PWM2</div>
          <div class="slider-container" id="PWM2Slider">
            <div class="slider-track"></div>
            <input type="range" id="PWM2MinInput" name="PWM2" min="0" max="600" step="1" value="300" autocomplete="off" />
            <input type="range" id="PWM2MaxInput" name="PWM2" min="0" max="600" step="1" value="550" autocomplete="off" />
          </div>
          
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
            <div style="display: flex;"> 
              <div class="PWMValueButton PWMMinus" id="PWM2MinMinus" style="margin-left: 30px; text-align: center;">
                <span>-</span>
              </div>
              <div class="PWMValueButton PWMPlus" id="PWM2MinPlus" style="margin-left: 45px;text-align: center;">
                <span>+</span>
              </div>
            </div>
            <div style="font-size: 28px; font-weight: bold;">
              <output name="PWM2" id="PWM2Min"></output>V - <output name="PWM2" id="PWM2Max"></output>V
            </div>
            <div style="display: flex;">
              <div class="PWMValueButton PWMMinus" id="PWM2MaxMinus" style="text-align: center;">
                <span>-</span>
              </div>
              <div class="PWMValueButton PWMPlus" id="PWM2MaxPlus" style="margin-left: 45px; margin-right: 30px; text-align:center;">
                <span>+</span>
              </div>
            </div>  
          </div>
        </div>
      </div>
      <div class="settingsButton" id="PWMSubmit" style="margin-top: 400px; margin-left: 800px;text-align: center;">
        <span>Zapisz</span>
      </div>
      <div class="settingsButton" id="PWMCancel" style="margin-top: 400px; margin-left: 600px;text-align: center;">
        <span>Anuluj</span>
      </div>

      <div class="optionButton" id="helpButton" style="margin-top: 400px; margin-left: 35px;text-align: center;">
        <span>?</span>
      </div>
      <div class="optionButton" id="updateSystemButton" style="margin-top: 400px; margin-left: 90px;text-align: center;">
        <span>&#8634;</span>
      </div>
      <div class="optionButton" id="privacyPolicyButton" style="margin-top: 400px; margin-left: 145px;text-align: center;">
        <span>&#9413;</span>
      </div>
      <div class="optionButton" id="internetConnectionButton" style="margin-top: 400px; margin-left: 200px;text-align: center;">
        <span>N</span>
      </div>
      
      <div class="box" style="float:left; position:absolute; width:210px; border-radius:0px 30px 30px 0px; margin-top: 115px;">  
        <div class="label" style="text-align: center;margin-bottom: 10px ;">Ustawienia instalacji</div>

        <div style="display:flex; justify-content: space-between;margin-bottom: 8px; align-items: center;">
          <span class="menuItem" id="offGridOnGridLabel">Off-Grid</span>
          <label class="switch">
            <input type="checkbox" id="offGridCheckBox" checked>
            <span class="switchRound"></span>
          </label>
        </div>
        <div style="display:flex; justify-content: space-between;margin-bottom: 8px; align-items: center;">
          <span class="menuItem" id="swapTemperatureLabel">Zamień temp.
          </span>
          <label class="switch">
            <input type="checkbox" id="swapTemperatureCheckBox">
            <span class="switchRound"></span>
          </label>
        </div>
        
        <div style="display:flex; justify-content: space-between;margin-bottom: 8px; align-items: center;">
          <span class="menuItem">Zmienna obr.</span>
          <input type="number" class="menuNumericInput" id="sweepSpeedIndex" step="0.001" value="0.631" placeholder="0.123">
        </div>
        <div style="display:flex; justify-content: space-between;margin-bottom: 8px; align-items: center;">
          <span class="menuItem">Średnica</span>
          <input type="number" class="menuNumericInput" id="sweptDiameter" step="0.1" value="630" placeholder="1234">
        </div>
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <span class="menuItem">Efektywność</span>
          <input type="number" class="menuNumericInput" id="powerCoefficient" step="0.01" value="0.40" placeholder="0.40">
        </div>
      </div>
      
      <div class="box" style="float:left; position:absolute; margin: 483px 0px 0px 0px; border-radius: 0px; width:1004px">
        Model produktu:<span id="productModel">PGŁ-10</span><br>
        Nr Seryjny: <span id="serialNumber">Nie udało się odczytać numeru seryjnego</span><br>
        Wersja systemu: <span id="programVersion"></span><br>
      </div>
    </div>

    <script src="js/socket.io.min.js"></script>
    <script src="js/slider.js"></script>
    <script src="js/dataReciveHandler.js"></script>
    <script src="js/dataEmit.js"></script>
    <script src="js/js.js"></script>
  </body>
</html>